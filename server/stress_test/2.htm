<html>
<head>
<title>并发10万TCP连接的测试</title>
<meta http-equiv=Content-Type content="text/html; charset=gbk">
<link rel="stylesheet" href="../../public/css/Word2Chm.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/default.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/noframe.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/bootstrap.css" type="text/css" />
</head>
<body>
    <div class="wiki_content">
        <article>
            <h1>并发10万TCP连接的测试</h1>
            
            <p>代码在examples/c10k.php中，本测试启动10个子进程，发起长连接到Swoole的TCP
                Server. 由于单台机器的原因，ip_local_port_range的范围是32000-60000。
                运行到28000个长连接时，由于local port不够用，无法再继续连接。</p>
            <p>Swoole使用epoll作为事件轮询，可维持大量TCP连接。只要操作系统的内存足够，就一直可以增加维持的TCP长连接。</p>
            <p>swoole_server每个连接所占用的内存为70-100字节，使用数据缓存，如EOF_CHECK/LENGTH_CHECK后可能会增加到每连接8K.</p>
        </article>
        
    </div>
</body>
</html>
